(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{68:function(t,e,n){t.exports={loader:"Loader_loader__3byf3"}},69:function(t,e,n){t.exports={head:"PostPageId_head__2nuW4",error:"PostPageId_error__2uhWy",comments:"PostPageId_comments__3qeaF",comment:"PostPageId_comment__1V9B5"}},75:function(t,e,n){},76:function(t,e,n){t.exports={myBtn:"myButton_myBtn__39KlM"}},77:function(t,e,n){t.exports={myInp:"myInput_myInp__2CJ6Q"}},78:function(t,e,n){t.exports={sort:"MySelect_sort__2ywhj"}},79:function(t,e,n){},80:function(t,e,n){t.exports={post:"PostsItem_post__ssCXr"}},81:function(t,e,n){t.exports={postList:"PostList_postList__1PbSF"}},82:function(t,e,n){t.exports={modal:"MyModal_modal__2B9Fv",modalItems:"MyModal_modalItems__3yBdi"}},83:function(t,e,n){t.exports={navbar:"Navbar_navbar__1qw7c"}},84:function(t,e,n){t.exports={error:"Error_error__7LbC4"}},85:function(t,e,n){},86:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),s=n(17),a=n.n(s),o=n(13),i=n(2),u=n(5),j=n.n(u),l=n(11),b=n(6),d=n(38),p=n(39),O=n(24),h=n.n(O),f=function(){function t(){Object(d.a)(this,t)}return Object(p.a)(t,null,[{key:"fetchPosts",value:function(){var t=Object(l.a)(j.a.mark((function t(e,n){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:e,_page:n}});case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"fetchPostId",value:function(){var t=Object(l.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fetchComments",value:function(){var t=Object(l.a)(j.a.mark((function t(e){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e,"/comments"));case 2:return n=t.sent,console.log(n),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),x=function(t){var e=Object(c.useState)(!0),n=Object(b.a)(e,2),r=n[0],s=n[1],a=Object(c.useState)(""),o=Object(b.a)(a,2),i=o[0],u=o[1];function d(){return(d=Object(l.a)(j.a.mark((function e(){var n=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s(!0),e.next=4,t.apply(void 0,n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),u(e.t0.message);case 9:return e.prev=9,s(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})))).apply(this,arguments)}return[r,i,function(){return d.apply(this,arguments)}]},v=n(0),m=n(68),y=function(){return Object(v.jsx)("div",{className:m.loader})},g=n(69),_=function(){var t=Object(c.useState)(),e=Object(b.a)(t,2),n=e[0],r=e[1],s=Object(c.useState)([]),a=Object(b.a)(s,2),o=a[0],u=a[1],d=Object(i.h)();console.log(d);var p=x(Object(l.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.fetchPostId(d.id);case 2:e=t.sent,r(e.data);case 4:case"end":return t.stop()}}),t)})))),O=Object(b.a)(p,3),h=O[0],m=O[1],_=O[2],P=x(Object(l.a)(j.a.mark((function t(){var e;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.fetchComments(d.id);case 2:e=t.sent,u(e.data);case 4:case"end":return t.stop()}}),t)})))),w=Object(b.a)(P,3),C=w[0],k=(w[1],w[2]);return Object(c.useEffect)((function(){_(),k()}),[]),Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:g.head,children:["\u042d\u0442\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u043e\u0434 \u043d\u043e\u043c\u0435\u0440\u043e\u043c ",d.id,Object(v.jsx)("h2",{className:g.error,children:m||""}),h?Object(v.jsx)(y,{}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),null===n||void 0===n?void 0:n.title,Object(v.jsxs)("div",{className:g.body,children:[Object(v.jsx)("h5",{children:"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435"}),null===n||void 0===n?void 0:n.body]})]})]}),C?Object(v.jsx)(y,{}):Object(v.jsx)("div",{className:g.comments,children:o.map((function(t){return Object(v.jsxs)("div",{className:g.comment,children:[t.email," \u043f\u0440\u043e\u043a\u043e\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043b:",Object(v.jsx)("div",{children:t.body})]})}))})]})},P=n(22),w=(n(75),function(t,e,n){var r=function(t,e){return Object(c.useMemo)((function(){return t?Object(P.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(t,e);return Object(c.useMemo)((function(){return r.filter((function(t){return t.title.toLowerCase().includes(n.toLowerCase())}))}),[n,r])}),C=n(3),k=n(23),N=n(76);function I(t){var e=t.children,n=Object(k.a)(t,["children"]);return Object(v.jsx)("button",Object(C.a)(Object(C.a)({className:N.myBtn},n),{},{children:e}))}var S=n(77);function L(t){var e=t.children,n=Object(k.a)(t,["children"]);return Object(v.jsx)("input",Object(C.a)(Object(C.a)({className:S.myInp},n),{},{children:e}))}var M=function(t){var e=Object(c.useState)({title:"",body:""}),n=Object(b.a)(e,2),r=n[0],s=n[1],a=Object(c.useState)(!1),o=Object(b.a)(a,2),i=o[0],u=o[1],j=Object(C.a)(Object(C.a)({},r),{},{id:Date.now()}),l={border:i?"1px solid red":"1px solid black"};return Object(v.jsxs)("div",{children:[Object(v.jsx)(L,{type:"text",style:l,value:r.title,onChange:function(t){return s(Object(C.a)(Object(C.a)({},r),{},{title:t.target.value}))},placeholder:i?"name post not found":"name post"}),Object(v.jsx)(L,{type:"text",style:l,value:r.body,onChange:function(t){return s(Object(C.a)(Object(C.a)({},r),{},{body:t.target.value}))},placeholder:i?"description post not found":"description post"}),Object(v.jsx)(I,{onClick:function(){u(!0),0!==r.title.length&&0!==r.body.length&&(t.setActive(!1),u(!1),s({title:"",body:""}),t.createPost(j))},children:"add post"})]})},B=n(78),F=function(t){var e=t.options,n=t.defaultValue,c=t.value,r=t.onChange;return Object(v.jsxs)("select",{value:c,onChange:function(t){return r(t.currentTarget.value)},className:B.sort,children:[Object(v.jsx)("option",{disabled:!0,value:"",children:n}),e.map((function(t){return Object(v.jsx)("option",{value:t.value,children:t.name},t.value)}))]})},A=function(t){var e=t.filter,n=t.setFilter;return Object(v.jsxs)("div",{children:[Object(v.jsx)(L,{placeholder:"\u041f\u043e\u0438\u0441\u043a",value:e.query,onChange:function(t){return n(Object(C.a)(Object(C.a)({},e),{},{query:t.target.value}))}}),Object(v.jsx)(F,{value:e.sort,onChange:function(t){return n(Object(C.a)(Object(C.a)({},e),{},{sort:t}))},defaultValue:"Sort",options:[{value:"title",name:"alphabetically"},{value:"body",name:"by content"}]})]})},q=n(89),E=n(88),J=(n(79),n(80)),T=function(t){var e=Object(i.g)();return console.log(e),Object(v.jsx)("div",{children:Object(v.jsx)(q.a,{children:t.posts.map((function(n){return Object(v.jsx)(E.a,{timeout:300,classNames:"post",children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:J.post,children:[Object(v.jsxs)("strong",{children:[n.id,".",n.title]}),n.body]}),Object(v.jsxs)("div",{className:J.buttons,children:[Object(v.jsx)(I,{onClick:function(){return e.push("/posts/".concat(n.id))},children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u043e\u0441\u0442"}),Object(v.jsx)(I,{onClick:function(){return t.removePost(n)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})},n.id)}))})})},V=n(81),W=function(t){return Object(v.jsxs)("div",{className:V.postList,children:[t.posts.length?Object(v.jsx)("h1",{children:t.title}):Object(v.jsx)("h1",{children:"Posts not found"}),Object(v.jsx)(T,{removePost:t.removePost,posts:t.posts})]})},D=n(82),K=function(t){var e=t.children,n=t.active,c=t.setActive;return Object(v.jsx)("div",{onClick:function(t){c(!n)},className:D.modal,children:Object(v.jsx)("div",{onClick:function(t){return t.stopPropagation()},className:D.modalItems,children:e})})},Q=function(t){for(var e={margin:"5px",minWidth:"50px"},n=Object(C.a)(Object(C.a)({},e),{color:"darkorchid",background:"white"}),c=[],r=1;r<=t.totalPages;r++)c.push(r);return Object(v.jsx)("div",{children:c.map((function(c){return Object(v.jsx)(I,{style:t.page===c?n:e,onClick:function(){t.setPage(c)},children:c},c)}))})},X=function(t,e){return Math.ceil(t/e)};var z=function(){var t=Object(c.useState)(!1),e=Object(b.a)(t,2),n=e[0],r=e[1],s=Object(c.useState)({sort:"",query:""}),a=Object(b.a)(s,2),o=a[0],i=a[1],u=Object(c.useState)([]),d=Object(b.a)(u,2),p=d[0],O=d[1],h=Object(c.useState)(0),m=Object(b.a)(h,2),g=m[0],_=m[1],C=Object(c.useState)(1),k=Object(b.a)(C,2),N=k[0],S=k[1],L=w(o.sort,p,o.query),B=x(function(){var t=Object(l.a)(j.a.mark((function t(e,n){var c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.fetchPosts(e,n);case 2:c=t.sent,O(c.data),r=c.headers["x-total-count"],_(X(r,e));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),F=Object(b.a)(B,3),q=F[0],E=F[1],J=F[2];return Object(c.useEffect)((function(){J(10,N)}),[N,10]),Object(v.jsxs)("div",{className:"App",children:[n?Object(v.jsx)(K,{active:n,setActive:r,children:Object(v.jsx)(M,{setActive:r,createPost:function(t){O([].concat(Object(P.a)(p),[t]))}})}):"",Object(v.jsx)(A,{filter:o,setFilter:i}),Object(v.jsx)(I,{onClick:function(){r(!0)},children:"Create Post"}),E&&Object(v.jsxs)("h2",{style:{color:"red"},children:["\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 ",E]}),q?Object(v.jsx)(y,{}):Object(v.jsx)(W,{removePost:function(t){O(p.filter((function(e){return e.id!==t.id})))},posts:L,title:"\u0421\u043f\u0438\u0441\u043e\u043a \u042f\u041f"}),Object(v.jsx)(Q,{totalPages:g,page:N,setPage:S})]})},G=n(83),H=function(){return Object(v.jsxs)("div",{className:G.navbar,children:[Object(v.jsx)(o.b,{to:"/about",children:"About"}),Object(v.jsx)("br",{}),Object(v.jsx)(o.b,{to:"/posts",children:"Posts"})]})},R=function(){return Object(v.jsx)("h1",{style:{textAlign:"center"},children:"\u042d\u0442\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u041f\u043e\u0441\u0442\u044b"})},U=n(84),Y=function(){return Object(v.jsxs)("div",{className:U.error,children:[Object(v.jsx)("h1",{children:"Error,\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(v.jsx)("img",{src:"https://www.seekpng.com/png/full/360-3605845_dog-holding-paper-in-mouth.png"})]})},Z=function(){return Object(v.jsxs)(o.a,{children:[Object(v.jsx)(H,{}),Object(v.jsxs)(i.d,{children:[Object(v.jsx)(i.b,{path:"/about",children:Object(v.jsx)(R,{})}),Object(v.jsx)(i.b,{exact:!0,path:"/posts",children:Object(v.jsx)(z,{})}),Object(v.jsx)(i.b,{exact:!0,path:"/posts/:id",children:Object(v.jsx)(_,{})}),Object(v.jsx)(i.b,{path:"/error",children:Object(v.jsx)(Y,{})}),Object(v.jsx)(i.a,{to:"/error"})]})]})},$=function(){return Object(v.jsx)(Z,{})},tt=(n(85),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,s=e.getLCP,a=e.getTTFB;n(t),c(t),r(t),s(t),a(t)}))});a.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)($,{})}),document.getElementById("root")),tt()}},[[86,1,2]]]);
//# sourceMappingURL=main.5c01a9a8.chunk.js.map